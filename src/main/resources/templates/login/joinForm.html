<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout01}">

<style layout:fragment="css">
        .fieldError {
            color: #bd2130;
        }
        .div-class{
        width: 500px;
      }
         .joinBtn{
        width : 200px;
        height : 50px;
        margin : auto;
        display:block;
      }

</style>

<div layout:fragment="content">
    <div class="div-class m-auto">
        <form action="join" role="form" method="post" class="mt-5" th:object="${memberDTO}">
            <h2 class="text-center">회원가입</h2>
            <div class="form-group mt-5">
                <label th:for="id" class="fs-4">아이디</label>
                <input type="text" th:field="*{id}" class="form-control jsId" placeholder="아이디는 영문 6자이상 10자이하로 입력해주세요.">
                <p th:if="${#fields.hasErrors('id')}" th:errors="*{id}" class="fieldError">Incorrect data</p>
            </div>
            <div class="form-group">
                <label th:for="password" class="fs-4 mt-1">비밀번호</label>
                <input type="password" th:field="*{password}" class="form-control" placeholder="비밀번호는 6자이상 10자이하로 입력해주세요.">
                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="fieldError">Incorrect
                    data</p>
            </div>
            <div class="form-group">
                <label th:for="name" class="fs-4 mt-1">이름</label>
                <input type="text" th:field="*{name}" class="form-control" placeholder="이름은 한글로 입력해주세요.">
                <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="fieldError">Incorrect data</p>
            </div>
            <div class="form-group">
                <label th:for="nickname" class="fs-4 mt-1">닉네임</label>
                <input type="text" th:field="*{nickName}" class="form-control" placeholder="닉네임은 3자이상 6자이하로 입력해주세요.">
                <p th:if="${#fields.hasErrors('nickName')}" th:errors="*{nickName}" class="fieldError">Incorrect
                    data</p>
            </div>
            <div>
                <button type="submit" class="btn btn-secondary joinBtn mt-5 mb-5">회원가입</button>
            </div>
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        </form>
    </div>
</div>

<script layout:fragment="script">

           $(document).ready(function(){
           console.log('[[${errorMessage}]]')
                if('[[${errorMessage}]]' != null && '[[${errorMessage}]]' != ''){
                   var errorMessage = '[[${errorMessage}]]';
                   if(errorMessage != null){
                        alert(errorMessage);
                    }else{
                        alert('회원가입이 완료되었습니다.');
                    }
                }
            });



</script>

</html>